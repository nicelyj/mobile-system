<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE sqlMapConfig
    PUBLIC "-//ibatis.apache.org//DTD SQL Map Config 2.0//EN"
    "http://ibatis.apache.org/dtd/sql-map-config-2.dtd">

<!-- 설정참고: http://commons.apache.org/dbcp/configuration.html -->
<sqlMapConfig>
	<properties resource="db.properties" />
	<settings 
		useStatementNamespaces="true" 
		cacheModelsEnabled="true"
		enhancementEnabled="true"
		lazyLoadingEnabled="true"
	/>


	<transactionManager type="JDBC" commitRequired="false">
		<dataSource type="DBCP">
			<property name="SetAutoCommitAllowed" value="true"/>		
			<property name="driverClassName" value="${testServer.membermaster.driver}" />
			<property name="url" value="${testServer.membermaster.url}" />
			<property name="username" value="${testServer.membermaster.username}" />
			<property name="password" value="${testServer.membermaster.password}" />

			<property name="maxActive" value="100" /> <!-- 최대 커넥션 수 -->
			<property name="initialSize" value="3" /> <!-- 최초 초기화 커넥션 수 . -->
			<property name="maxIdle" value="100" /> <!-- 사용되지 않고 풀에 저장될 수 있는 최소 커넥션 개수 -->
			<property name="maxWait" value="60000" /> <!-- 최대 대기시간(milliseconds). 음수일 경우 제한이 없음 -->
			
			<property name="validationQuery" value="select 1" />
			<property name="testWhileIdle" value="true" />
			<property name="timeBetweenEvictionRunsMillis" value="20000" />
			<property name="removeAbandoned" value="true"/> 
			<property name="removeAbandonedTimeout" value="60"/> 
			<property name="logAbandoned" value="true"/> 
		</dataSource>
	</transactionManager>	
	<sqlMap resource="sqlMap/member.xml" />
</sqlMapConfig>